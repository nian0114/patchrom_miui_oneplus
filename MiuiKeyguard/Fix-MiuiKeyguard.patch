From 6a8237918fbdc5069a3dc39382d4d93123d0d92c Mon Sep 17 00:00:00 2001
From: kin-cheng <kin912@gmail.com>
Date: Sun, 12 Jul 2015 23:35:37 +0800
Subject: [PATCH] Fix MiuiKeyguard

Signed-off-by: kin-cheng <kin912@gmail.com>
---
 .../keyguard/MiuiLockPatternKeyguardView.smali     | 32 ++++------------------
 1 file changed, 6 insertions(+), 26 deletions(-)

diff --git a/MiuiKeyguard/smali/com/android/keyguard/MiuiLockPatternKeyguardView.smali b/MiuiKeyguard/smali/com/android/keyguard/MiuiLockPatternKeyguardView.smali
index 1512dc3..978e622 100644
--- a/MiuiKeyguard/smali/com/android/keyguard/MiuiLockPatternKeyguardView.smali
+++ b/MiuiKeyguard/smali/com/android/keyguard/MiuiLockPatternKeyguardView.smali
@@ -1147,6 +1147,12 @@
 
     invoke-virtual {p0, v0}, Lcom/android/keyguard/MiuiLockPatternKeyguardView;->addView(Landroid/view/View;)V
 
+    iget-object v0, p0, Lcom/android/keyguard/MiuiLockPatternKeyguardView;->mLockScreen:Landroid/view/View;
+
+    const/16 v1, 0x802
+
+    invoke-virtual {v0, v1}, Landroid/view/View;->setSystemUiVisibility(I)V
+
     goto :goto_0
 .end method
 
@@ -1874,35 +1880,9 @@
     .locals 1
 
     .prologue
-    iget-object v0, p0, Lcom/android/keyguard/MiuiLockPatternKeyguardView;->mLockScreen:Landroid/view/View;
-
-    if-eqz v0, :cond_0
-
-    iget-object v0, p0, Lcom/android/keyguard/MiuiLockPatternKeyguardView;->mLockScreen:Landroid/view/View;
-
-    instance-of v0, v0, Lcom/android/keyguard/AwesomeLockScreen;
-
-    if-eqz v0, :cond_0
-
-    iget-object v0, p0, Lcom/android/keyguard/MiuiLockPatternKeyguardView;->mLockScreen:Landroid/view/View;
-
-    check-cast v0, Lcom/android/keyguard/AwesomeLockScreen;
-
-    invoke-virtual {v0}, Lcom/android/keyguard/AwesomeLockScreen;->allowScreenRotation()Z
-
-    move-result v0
-
-    if-nez v0, :cond_0
-
     const/4 v0, 0x0
 
-    :goto_0
     return v0
-
-    :cond_0
-    const/4 v0, 0x1
-
-    goto :goto_0
 .end method
 
 .method public cleanUp()V
-- 
1.9.1

